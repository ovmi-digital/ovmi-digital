---
interface Props {
  name: string;
  tagline: string;
  imageSrc: string;
  imageAlt: string;
  url?: string;
  sections?: { label: string; content: string }[];
  imagePosition?: "left" | "right";
  placeholder?: boolean;
}

const {
  name,
  tagline,
  imageSrc,
  imageAlt,
  url,
  sections = [],
  imagePosition = "right",
  placeholder = false,
} = Astro.props;

const isLeft = imagePosition === "left";
---

<article class={`px-6 md:px-12 lg:px-20 ${placeholder ? "opacity-50" : ""}`}>
  <div class={`flex flex-col ${isLeft ? "md:flex-row-reverse" : "md:flex-row"} gap-8 md:gap-12 lg:gap-16`}>
    <!-- Text side -->
    <div class="md:w-[55%] flex flex-col justify-center">
      <h3 class="font-black" style="font-size: clamp(2rem, 4vw, 3.5rem);">
        {name}
      </h3>
      <p class={`font-bold mt-2 ${placeholder
        ? "text-[var(--color-muted)] dark:text-[var(--color-muted-dark)]"
        : "text-[var(--color-accent)] dark:text-[var(--color-accent-dark)]"
      }`}>
        {tagline}
      </p>

      {sections.length > 0 && (
        <div class="mt-10 space-y-8">
          {sections.map((section) => (
            <div>
              <p class="text-sm font-bold tracking-[0.2em] uppercase mb-3
                        text-[var(--color-muted)] dark:text-[var(--color-muted-dark)]">
                {section.label}
              </p>
              <p>{section.content}</p>
            </div>
          ))}
        </div>
      )}

      {url && !placeholder && (
        <a
          href={url}
          target="_blank"
          rel="noopener noreferrer"
          class="inline-block mt-8 text-[var(--color-accent)] dark:text-[var(--color-accent-dark)]
                 font-bold hover:opacity-70 transition-opacity"
        >
          &rarr; {url.replace("https://", "")}
        </a>
      )}
    </div>

    <!-- Image side -->
    <div class="md:w-[45%]" style="min-height: clamp(16rem, 40vh, 28rem);">
      <img
        src={imageSrc}
        alt={imageAlt}
        class="w-full h-full object-cover rounded-lg"
        loading="lazy"
        decoding="async"
      />
    </div>
  </div>
</article>
